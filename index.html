<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <!-- Primary Meta Tags -->
  <title>Mozzy's Morse Solver</title>
  <meta name="title" content="Mozzy's Morse Solver">
  <meta name="description" content="A website used for quickly solving 'The Beginning' morse codes from Battlefield 1.">
  <meta name="theme-color" content="#7289da">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://bf1morse.leonlarsson.com">
  <meta property="og:title" content="Mozzy's Morse Solver">
  <meta property="og:description"
    content="A website used for quickly solving 'The Beginning' morse codes from Battlefield 1.">
  <meta property="og:image" content="https://bf1morse.leonlarsson.com/assets/images/embed.png">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://bf1morse.leonlarsson.com">
  <meta property="twitter:title" content="Mozzy's Morse Solver">
  <meta property="twitter:description"
    content="A website used for quickly solving 'The Beginning' morse codes from Battlefield 1.">
  <meta property="twitter:image" content="https://bf1morse.leonlarsson.com/assets/images/embed.png">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="icon" href="https://leonlarsson.com/assets/icon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="https://leonlarsson.com/assets/icon.ico" type="image/x-icon">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&amp;display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/style.css">
  <script src="assets/js/packages/jmespath.js"></script>
  <script src="assets/js/decoders/bacon.js"></script>
  <script src="assets/js/decoders/util.js"></script>
  <script src="assets/js/decoders/VigenereCipher.js"></script>
  <script src="assets/js/decoders/VigenereCipher-Autokey.js"></script>
  <script src="assets/js/decoders/morse.js"></script>
  <script defer type="module" src="assets/js/main.js"></script>
</head>

<body class="no-select">
  <div id="topTitle">
    <div id="titleMain">
      <a href="https://www.ko-fi.com/mozzy" target="_blank" title="A link to ko-fi.com" class="coffeeLink">☕</a>
      <a id="titleLink" href="https://twitter.com/MozzyFX" target="_blank"
        title="A link to Mozzy's Twitter.">Mozzy's</a> Morse Solver
    </div>
  </div>
  <hr>
  <div class="container">
    <span class="text">Cipher Text/Morse:
    </span>
    <input placeholder="Input your morse or text here." class="decode-trigger textBox" id="inputTextBox" type="text">
    <div class="container-stages">
      <a id="stageLink" href="https://bfee.co/index.php?title=Battlefield_1/A_Beginning#Decoding_The_Messages"
        target="_blank"><span class="text">Stage:</span></a>
      <label class="text"><input id="check1" type="radio" name="stageRadio"
          class="decode-trigger radioButton">1</input></label>
      <label class="text"><input id="check2" type="radio" name="stageRadio"
          class="decode-trigger radioButton">2</input></label>
      <label class="text"><input id="check3" type="radio" name="stageRadio"
          class="decode-trigger radioButton">3</input></label>
      <label class="text"><input id="check4" type="radio" name="stageRadio"
          class="decode-trigger radioButton">4</input></label>
      <label class="text"><input id="check5" type="radio" name="stageRadio"
          class="decode-trigger radioButton">5</input></label>
      <label class="text"><input id="check6" type="radio" name="stageRadio"
          class="decode-trigger radioButton">6</input></label>
      <label class="text"><input id="check7" type="radio" name="stageRadio"
          class="decode-trigger radioButton">7</input></label>
      <label class="text"><input id="check8" type="radio" name="stageRadio"
          class="decode-trigger radioButton">8</input></label>
      <label class="text"><input id="check9" type="radio" name="stageRadio"
          class="decode-trigger radioButton">9</input></label>
      <label class="text"><input id="check10" type="radio" name="stageRadio" class="decode-trigger radioButton"
          checked>All</input></label>
    </div>
    <br />

    <span class="text">Output:</span>
    <input class="textBox" id="outputTextBox" type="text" readonly
      placeholder="Please select a stage if you want to filter results and see the output. This is not required.">
    <br>
    <span class="text" id="locationText">⏳ Awaiting input...</span>
    <br>
    <div class="container-matches">
      <span id="matchesText" class="text">Matches:</span>
      <div>
        <label class="textCheck"><input id="noEmbedCheck" type="checkbox" class="decode-trigger checkbox">No
          embed</input></label>
        <button title="Copies the match(es)." id="copyResultButton" onclick="copyResult()">Copy</button>
      </div>
    </div>
    <textarea placeholder="The matches will show here. Start typing :)" id="resultsBox" readonly></textarea>
    <img hidden style="align-self: center; width: 50vw; height: auto; margin-top: 20px; margin-bottom: 50px"
      id="resultImage"></img>
  </div>
  <script>

    // Copy results
    function copyResult() {
      document.getElementById("resultsBox").select();
      document.execCommand("copy");
      document.getSelection().removeAllRanges();
    }

    // Populate the title tooltip of "Matches:" to include the last match data, if available in local storage
    window.onload = () => {
      if (localStorage.getItem("lastMatch")) {
        const lastMatch = JSON.parse(localStorage.getItem("lastMatch"));
        document.getElementById("matchesText").title = `Last match (${lastMatch.date}):\nInput: "${lastMatch.inputUsed}"\nStage: ${lastMatch.stage}\nLocation: ${lastMatch.location}\nMap: ${lastMatch.map}`;
      }
    }

  </script>
</body>

</html>